<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Github 热门项目</title>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/abc.css">
</head>
<body>

    <div id=container>

    </div>
    <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
    <!-- babel是解析JSX必备的库 -->
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src = "https://unpkg.com/axios/dist/axios.min.js"></script>
   
    
    <script type="text/babel">


window.onload = function() {
 


    
    class PageAllContent extends React.Component {
           constructor(props) {
               super(props)
               this.state = {
                   repos: []
                   };
           }
           
           componentDidMount =()=>{
              axios.get('https://api.github.com/search/repositories?q=stars:%3E1&sort=stars&order=desc&type=Repositories')
               .then((res)=> {
                console.log('res', res.data);
                this.setState({
                    repos: res.data.items
                    })
                })
                .catch(function (error) {
                    console.log(error);
                    alert("获取服务器数据异常异常");
                });
           }
          
           render () {
              const list = this.state.repos.map((item, key) =>
              { if(key+1<11)
                return (
           
               <div style={{backgroundColor: '#e5e5e5', width: '200px',
                   marginTop: '20px',
                   display: 'flex',
                   flexDirection: 'row-reverse'}} key={item.id} >
                  
                   <div style={{width: '200px',}}>
                      <h2 style={{display: 'flex', justifyContent: 'center'}}># {key+1}</h2>
                      <div style={{display: 'flex', justifyContent: 'center'}}>
                          <img src={item.owner.avatar_url} alt=""  style={{width: '100px'}}/>
                      </div>   
                      <h3 style={{display: 'flex', justifyContent: 'center'}}>{item.owner.login}</h3>
                      <div style={{display: 'flex', justifyContent: 'flex-end'}}>
                        <div style={{width: '180px'}}>
                          <p style={{marginLeft: '2px', fontSize: '14px'}}>  <i className="fa fa-user" style={{color: "orange"}} aria-hidden="true"></i>  {item.owner.login}</p>
                          <p style={{fontSize: '14px'}}><i className="fa fa-star" style={{color: "yellow"}} aria-hidden="true"></i> {item.watchers} stars</p>
                          <p style={{marginLeft: '3px', fontSize: '14px'}}>  <i className="fa fa-code-fork" style={{color: "blue",fontSize: '15px'}} aria-hidden="true"></i>  {item.forks} forks</p>
                          <p style={{fontSize: '13px'}}><i className="fa fa-exclamation-triangle" style={{color: "pink"}} aria-hidden="true"></i>  {item.open_issues} open issues</p>
                        </div>
                      </div>
                   </div>                
               </div>
                )
              });
                console.log(list)
                return  <div  style={{
                        display: 'flex',
                        justifyContent: 'center'
                    }}>
                    <div  style={{
                        display: 'flex',
                        flexWrap: 'wrap',
                        justifyContent: 'space-around',
                        width: '990px'
                    }}>
                         
                            {list}
                       
                    </div>
                </div>
           }
       }


       
       class PageJavaScriptContent extends React.Component {
           constructor(props) {
               super(props)
               this.state = {
                   repos: []
                   };
           }
           
           async componentDidMount () {
               const res = await axios.get('https://api.github.com/search/repositories?q=stars:%3E1+language:javascript&sort=stars&order=desc&type=Repositories')
               .then((res)=> {
                console.log('res', res.data);
                this.setState({
                    repos: res.data.items
                    })
                })
                .catch(function (error) {
                    console.log(error);
                    alert("获取服务器数据异常");
                });
           }
          
           render () {
            const list = this.state.repos.map((item, key) =>
              { if(key+1<11)
                return (
           
               <div style={{backgroundColor: '#e5e5e5', width: '200px',
                   marginTop: '20px',
                   display: 'flex',
                   flexDirection: 'row-reverse'}} key={item.id} >
                  
                   <div style={{width: '200px',}}>
                      <h2 style={{display: 'flex', justifyContent: 'center'}}># {key+1}</h2>
                      <div style={{display: 'flex', justifyContent: 'center'}}>
                          <img src={item.owner.avatar_url} alt=""  style={{width: '100px'}}/>
                      </div>   
                      <h3 style={{display: 'flex', justifyContent: 'center'}}>{item.owner.login}</h3>
                      <div style={{display: 'flex', justifyContent: 'flex-end'}}>
                        <div style={{width: '180px'}}>
                          <p style={{marginLeft: '2px', fontSize: '14px'}}>  <i className="fa fa-user" style={{color: "orange"}} aria-hidden="true"></i>  {item.owner.login}</p>
                          <p style={{fontSize: '14px'}}><i className="fa fa-star" style={{color: "yellow"}} aria-hidden="true"></i> {item.watchers} stars</p>
                          <p style={{marginLeft: '3px', fontSize: '14px'}}>  <i className="fa fa-code-fork" style={{color: "blue",fontSize: '15px'}} aria-hidden="true"></i>  {item.forks} forks</p>
                          <p style={{fontSize: '13px'}}><i className="fa fa-exclamation-triangle" style={{color: "pink"}} aria-hidden="true"></i>  {item.open_issues} open issues</p>
                        </div>
                      </div>
                   </div>                
               </div>
                )
              });
                console.log(list)
                return  <div  style={{
                        display: 'flex',
                        justifyContent: 'center'
                    }}>
                    <div  style={{
                        display: 'flex',
                        flexWrap: 'wrap',
                        justifyContent: 'space-around',
                        width: '990px'
                    }}>
                         
                            {list}
                       
                    </div>
                </div>
           }
       }




       class PageRubyContent extends React.Component {
           constructor(props) {
               super(props)
               this.state = {
                   repos: []
                   };
           }
           
           async componentDidMount () {
               const res = await axios.get('https://api.github.com/search/repositories?q=stars:%3E1+language:ruby&sort=stars&order=desc&type=Repositories')
               .then((res)=> {
                console.log('res', res.data);
                this.setState({
                    repos: res.data.items
                    })
                })
                .catch(function (error) {
                    console.log(error);
                    alert("获取服务器数据异常");
                });
              
           }
          
           render () {
            const list = this.state.repos.map((item, key) =>
              { if(key+1<11)
                return (
           
               <div style={{backgroundColor: '#e5e5e5', width: '200px',
                   marginTop: '20px',
                   display: 'flex',
                   flexDirection: 'row-reverse'}} key={item.id} >
                  
                   <div style={{width: '200px',}}>
                      <h2 style={{display: 'flex', justifyContent: 'center'}}># {key+1}</h2>
                      <div style={{display: 'flex', justifyContent: 'center'}}>
                          <img src={item.owner.avatar_url} alt=""  style={{width: '100px'}}/>
                      </div>   
                      <h3 style={{display: 'flex', justifyContent: 'center'}}>{item.owner.login}</h3>
                      <div style={{display: 'flex', justifyContent: 'flex-end'}}>
                        <div style={{width: '180px'}}>
                          <p style={{marginLeft: '2px', fontSize: '14px'}}>  <i className="fa fa-user" style={{color: "orange"}} aria-hidden="true"></i>  {item.owner.login}</p>
                          <p style={{fontSize: '14px'}}><i className="fa fa-star" style={{color: "yellow"}} aria-hidden="true"></i> {item.watchers} stars</p>
                          <p style={{marginLeft: '3px', fontSize: '14px'}}>  <i className="fa fa-code-fork" style={{color: "blue",fontSize: '15px'}} aria-hidden="true"></i>  {item.forks} forks</p>
                          <p style={{fontSize: '13px'}}><i className="fa fa-exclamation-triangle" style={{color: "pink"}} aria-hidden="true"></i>  {item.open_issues} open issues</p>
                        </div>
                      </div>
                   </div>                
               </div>
                )
              });
                console.log(list)
                return  <div  style={{
                        display: 'flex',
                        justifyContent: 'center'
                    }}>
                    <div  style={{
                        display: 'flex',
                        flexWrap: 'wrap',
                        justifyContent: 'space-around',
                        width: '990px'
                    }}>
                         
                            {list}
                       
                    </div>
                </div>
           }
       }




class PageJavaContent extends React.Component {
           constructor(props) {
               super(props)
               this.state = {
                   repos: []
                   };
           }
           
           async componentDidMount () {
               const res = await axios.get('https://api.github.com/search/repositories?q=stars:%3E1+language:java&sort=stars&order=desc&type=Repositories')
               .then((res)=> {
                console.log('res', res.data);
                this.setState({
                    repos: res.data.items
                    })
                })
                .catch(function (error) {
                    console.log(error);
                    alert("获取服务器数据异常");
                });
           }
          
           render () {
            const list = this.state.repos.map((item, key) =>
              { if(key+1<11)
                return (
           
               <div style={{backgroundColor: '#e5e5e5', width: '200px',
                   marginTop: '20px',
                   display: 'flex',
                   flexDirection: 'row-reverse'}} key={item.id} >
                  
                   <div style={{width: '200px',}}>
                      <h2 style={{display: 'flex', justifyContent: 'center'}}># {key+1}</h2>
                      <div style={{display: 'flex', justifyContent: 'center'}}>
                          <img src={item.owner.avatar_url} alt=""  style={{width: '100px'}}/>
                      </div>   
                      <h3 style={{display: 'flex', justifyContent: 'center'}}>{item.owner.login}</h3>
                      <div style={{display: 'flex', justifyContent: 'flex-end'}}>
                        <div style={{width: '180px'}}>
                          <p style={{marginLeft: '2px', fontSize: '14px'}}>  <i className="fa fa-user" style={{color: "orange"}} aria-hidden="true"></i>  {item.owner.login}</p>
                          <p style={{fontSize: '14px'}}><i className="fa fa-star" style={{color: "yellow"}} aria-hidden="true"></i> {item.watchers} stars</p>
                          <p style={{marginLeft: '3px', fontSize: '14px'}}>  <i className="fa fa-code-fork" style={{color: "blue",fontSize: '15px'}} aria-hidden="true"></i>  {item.forks} forks</p>
                          <p style={{fontSize: '13px'}}><i className="fa fa-exclamation-triangle" style={{color: "pink"}} aria-hidden="true"></i>  {item.open_issues} open issues</p>
                        </div>
                      </div>
                   </div>                
               </div>
                )
              });
                console.log(list)
                return  <div  style={{
                        display: 'flex',
                        justifyContent: 'center'
                    }}>
                    <div  style={{
                        display: 'flex',
                        flexWrap: 'wrap',
                        justifyContent: 'space-around',
                        width: '990px'
                    }}>
                         
                            {list}
                       
                    </div>
                </div>
           }
       }





    class PageCssContent extends React.Component {
           constructor(props) {
               super(props)
               this.state = {
                   repos: []
                   };
           }
           
           async componentDidMount () {
               const res = await axios.get('https://api.github.com/search/repositories?q=stars:%3E1+language:css&sort=stars&order=desc&type=Repositories')
               .then((res)=> {
                console.log('res', res.data);
                this.setState({
                    repos: res.data.items
                    })
                })
                .catch(function (error) {
                    console.log(error);
                    alert("获取服务器数据异常异常");
                });
           }
          
           render () {
            const list = this.state.repos.map((item, key) =>
              { if(key+1<11)
                return (
           
               <div style={{backgroundColor: '#e5e5e5', width: '200px',
                   marginTop: '20px',
                   display: 'flex',
                   flexDirection: 'row-reverse'}} key={item.id} >
                  
                   <div style={{width: '200px',}}>
                      <h2 style={{display: 'flex', justifyContent: 'center'}}># {key+1}</h2>
                      <div style={{display: 'flex', justifyContent: 'center'}}>
                          <img src={item.owner.avatar_url} alt=""  style={{width: '100px'}}/>
                      </div>   
                      <h3 style={{display: 'flex', justifyContent: 'center'}}>{item.owner.login}</h3>
                      <div style={{display: 'flex', justifyContent: 'flex-end'}}>
                        <div style={{width: '180px'}}>
                          <p style={{marginLeft: '2px', fontSize: '14px'}}>  <i className="fa fa-user" style={{color: "orange"}} aria-hidden="true"></i>  {item.owner.login}</p>
                          <p style={{fontSize: '14px'}}><i className="fa fa-star" style={{color: "yellow"}} aria-hidden="true"></i> {item.watchers} stars</p>
                          <p style={{marginLeft: '3px', fontSize: '14px'}}>  <i className="fa fa-code-fork" style={{color: "blue",fontSize: '15px'}} aria-hidden="true"></i>  {item.forks} forks</p>
                          <p style={{fontSize: '13px'}}><i className="fa fa-exclamation-triangle" style={{color: "pink"}} aria-hidden="true"></i>  {item.open_issues} open issues</p>
                        </div>
                      </div>
                   </div>                
               </div>
                )
              });
              console.log(list)
              return <div  style={{
                        display: 'flex',
                        justifyContent: 'center'
                    }}>
                    <div  style={{
                        display: 'flex',
                        flexWrap: 'wrap',
                        justifyContent: 'space-around',
                        width: '990px'
                    }}>
                         
                            {list}
                       
                    </div>
                </div>
         }
     }




        class TabList extends React.Component {
            constructor() {
               super()
               this.state = {
                  n: 1,
                 
                   };
                   }
           
         
            change(i) {
                this.setState( {
                  n: i,
                 
                   })
            }
           

            render () {
              
               return <div>
                    <div id="a">
                        <a style={{marginLeft: '10px'}} className={this.state.n==1?'selected':''} 
                            onClick={()=>this.change(1)} 
                           id="a1">All</a>
                        <a style={{marginLeft: '10px'}} className={this.state.n==2?'selected':''} 
                            onClick={()=>this.change(2)} 
                           id="a2">JavaScript</a>
                        <a style={{marginLeft: '10px'}} className={this.state.n==3?'selected':''} 
                            onClick={()=>this.change(3)} 
                            id="a3">Ruby</a>
                        <a style={{marginLeft: '10px'}} className={this.state.n==4?'selected':''} 
                            onClick={()=>this.change(4)} 
                            id="a4">Java</a>
                        <a style={{marginLeft: '10px'}} className={this.state.n==5?'selected':''} 
                            onClick={()=>this.change(5)}
                            id="a5">CSS</a>
                    </div>
                    <div>
                        {this.state.n==1 ? <PageAllContent></PageAllContent> :"" }
                        {this.state.n==2 ? <PageJavaScriptContent></PageJavaScriptContent> :"" }
                        {this.state.n==3 ? <PageRubyContent></PageRubyContent> :"" }
                        {this.state.n==4 ? <PageJavaContent></PageJavaContent> :"" }
                        {this.state.n==5 ? <PageCssContent></PageCssContent> :"" }
                    </div>
                  </div>;
           }
        
       
        }


       class App extends React.Component {
           render () {
               return <div>
                  <TabList />
                  </div>;
           }
       }
       ReactDOM.render(
           <App />,
           document.getElementById('container')
       )
          
}
    </script>
</body>
</html>

